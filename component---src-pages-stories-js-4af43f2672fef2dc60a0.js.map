{"version":3,"sources":["webpack:///./src/components/layout/cover.js","webpack:///./node_modules/react-bootstrap/esm/Col.js","webpack:///./src/styles/stories.module.css","webpack:///./src/components/layout/rainbow.js","webpack:///./node_modules/react-bootstrap/esm/PageItem.js","webpack:///./node_modules/react-bootstrap/esm/Pagination.js","webpack:///./src/pages/stories.js"],"names":["Cover","props","className","layoutStyles","cover","bar","src","alt","text","defaultProps","DEVICE_SIZES","Col","forwardRef","_ref","ref","bsPrefix","_ref$as","as","Component","prefix","spans","classes","forEach","brkPoint","span","offset","order","propValue","_propValue$span","infix","push","length","createElement","apply","concat","displayName","module","exports","Rainbow","rainbow","first","second","PageItem","active","disabled","style","activeLabel","children","SafeAnchor","createButton","name","defaultValue","label","Button","_ref2","First","Prev","Ellipsis","Next","Last","Pagination","size","decoratedBsPrefix","Item","Stories","data","useStaticQuery","storiesN","allMarkdownRemark","edges","pageMax","Math","ceil","useState","page","setPage","indexLimit","setIndexLimit","useEffect","title","description","role","storiesStyles","posts","reduce","result","edge","index","post","key","node","id","to","fields","slug","titleLink","frontmatter","meta","date","timeToRead","featured","fluid","childImageSharp","lg","excerptMargin","excerpt","pageSelector","Items","onClick","i","PageItems"],"mappings":"4FAAA,0DAIMA,EAAQ,SAAAC,GACV,OACE,yBAAKC,UAAcC,IAAaC,MAAlB,wBACVH,EAAMI,KAAO,kBAAC,IAAD,MACbJ,EAAMK,KAAO,yBAAKA,IAAKL,EAAMK,IAAKC,IAAI,UACtCN,EAAMO,MAAQ,wBAAIN,UAAU,qBAAqBD,EAAMO,QAKjER,EAAMS,aAAe,CACnBJ,KAAK,EACLC,IAAK,KACLE,KAAM,MAGOR,O,kCCpBf,kFAKIU,EAAe,CAAC,KAAM,KAAM,KAAM,KAAM,MACxCC,EAAmB,IAAMC,YAC7B,SAAUC,EAAMC,GACd,IAAIC,EAAWF,EAAKE,SAChBb,EAAYW,EAAKX,UACjBc,EAAUH,EAAKI,GACfC,OAAwB,IAAZF,EAAqB,MAAQA,EACzCf,EAAQ,YAA8BY,EAAM,CAAC,WAAY,YAAa,OAEtEM,EAAS,YAAmBJ,EAAU,OACtCK,EAAQ,GACRC,EAAU,GA2Bd,OA1BAX,EAAaY,SAAQ,SAAUC,GAC7B,IAEIC,EACAC,EACAC,EAJAC,EAAY1B,EAAMsB,GAMtB,UALOtB,EAAMsB,GAKY,iBAAdI,GAAuC,MAAbA,EAAmB,CACtD,IAAIC,EAAkBD,EAAUH,KAChCA,OAA2B,IAApBI,GAAoCA,EAC3CH,EAASE,EAAUF,OACnBC,EAAQC,EAAUD,WAElBF,EAAOG,EAGT,IAAIE,EAAqB,OAAbN,EAAoB,IAAMA,EAAW,GAC7CC,GAAMJ,EAAMU,MAAc,IAATN,EAAgB,GAAKL,EAASU,EAAQ,GAAKV,EAASU,EAAQ,IAAML,GAC1E,MAATE,GAAeL,EAAQS,KAAK,QAAUD,EAAQ,IAAMH,GAC1C,MAAVD,GAAgBJ,EAAQS,KAAK,SAAWD,EAAQ,IAAMJ,MAGvDL,EAAMW,QACTX,EAAMU,KAAKX,GAGO,IAAMa,cAAcd,EAAW,YAAS,GAAIjB,EAAO,CACrEa,IAAKA,EACLZ,UAAW,IAAW+B,WAAM,EAAQ,CAAC/B,GAAWgC,OAAOd,EAAOC,UAGlEV,EAAIwB,YAAc,MACH,O,qBChDfC,EAAOC,QAAU,CAAC,MAAQ,+BAA+B,KAAO,8BAA8B,KAAO,8BAA8B,SAAW,kCAAkC,QAAU,iCAAiC,cAAgB,uCAAuC,aAAe,wC,kCCDjS,8CAYeC,IATC,WACZ,OACE,yBAAKpC,UAAWC,IAAaoC,SAC3B,yBAAKrC,UAAWC,IAAaqC,QAC7B,yBAAKtC,UAAWC,IAAasC,Y,uPCKjCC,EAAwB,IAAM9B,YAAW,SAAUC,EAAMC,GAC3D,IAAI6B,EAAS9B,EAAK8B,OACdC,EAAW/B,EAAK+B,SAChB1C,EAAYW,EAAKX,UACjB2C,EAAQhC,EAAKgC,MACbC,EAAcjC,EAAKiC,YACnBC,EAAWlC,EAAKkC,SAChB9C,EAAQ,YAA8BY,EAAM,CAAC,SAAU,WAAY,YAAa,QAAS,cAAe,aAExGK,EAAYyB,GAAUC,EAAW,OAASI,EAAA,EAC9C,OAAoB,IAAMhB,cAAc,KAAM,CAC5ClB,IAAKA,EACL+B,MAAOA,EACP3C,UAAW,IAAWA,EAAW,YAAa,CAC5CyC,OAAQA,EACRC,SAAUA,KAEE,IAAMZ,cAAcd,EAAW,YAAS,CACtDhB,UAAW,YACX0C,SAAUA,GACT3C,GAAQ8C,EAAUJ,GAAUG,GAA4B,IAAMd,cAAc,OAAQ,CACrF9B,UAAW,WACV4C,QAELJ,EAASjC,aA7BU,CACjBkC,QAAQ,EACRC,UAAU,EACVE,YAAa,aA2BfJ,EAASP,YAAc,WACR,QAEf,SAASc,EAAaC,EAAMC,EAAcC,GAKxC,SAASC,EAAOC,GACd,IAAIP,EAAWO,EAAMP,SACjB9C,EAAQ,YAA8BqD,EAAO,CAAC,aAElD,OAAoB,IAAMtB,cAAcU,EAAUzC,EAAoB,IAAM+B,cAAc,OAAQ,CAChG,cAAe,QACde,GAAYI,GAA4B,IAAMnB,cAAc,OAAQ,CACrE9B,UAAW,WACVkD,IAIL,YAhBc,IAAVA,IACFA,EAAQF,GAcVG,EAAOlB,YAAce,EACdG,EAGF,IAAIE,EAAQN,EAAa,QAAS,KAC9BO,EAAOP,EAAa,OAAQ,IAAK,YACjCQ,EAAWR,EAAa,WAAY,IAAK,QACzCS,EAAOT,EAAa,OAAQ,KAC5BU,EAAOV,EAAa,OAAQ,KCjDnCW,EAA0B,IAAMhD,YAAW,SAAUC,EAAMC,GAC7D,IAAIC,EAAWF,EAAKE,SAChBb,EAAYW,EAAKX,UACjB6C,EAAWlC,EAAKkC,SAChBc,EAAOhD,EAAKgD,KACZ5D,EAAQ,YAA8BY,EAAM,CAAC,WAAY,YAAa,WAAY,SAElFiD,EAAoB,YAAmB/C,EAAU,cACrD,OAAoB,IAAMiB,cAAc,KAAM,YAAS,CACrDlB,IAAKA,GACJb,EAAO,CACRC,UAAW,IAAWA,EAAW4D,EAAmBD,GAAQC,EAAoB,IAAMD,KACpFd,MAENa,EAAWL,MAAQA,EACnBK,EAAWJ,KAAOA,EAClBI,EAAWH,SAAWA,EACtBG,EAAWG,KAAO,EAClBH,EAAWF,KAAOA,EAClBE,EAAWD,KAAOA,EACH,QC6FAK,UArHC,WACd,IAAMC,EAAOC,yBAAe,cA8BtBC,EAAWF,EAAKG,kBAAkBC,MAAMtC,OAExCuC,EAAUC,KAAKC,KAAKL,EADH,GAhCH,EAkCIM,mBAAS,GAA1BC,EAlCa,KAkCPC,EAlCO,OAmCgBF,mBAAS,CAAC,EAAE,IAAzCG,EAnCa,KAmCDC,EAnCC,KAoCpBC,qBAAU,WACRD,EAAc,CALO,GAKLH,EAAK,GALA,EAKsBA,EAAuB,MACjE,CAACA,IA4DJ,OACE,kBAAC,IAAD,KACE,kBAAC,IAAD,CACEK,MAAM,UACNC,YAAY,iIAEd,kBAAC,IAAD,MACA,yBAAKC,KAAK,QACR,wBAAI/E,UAAWgF,IAAcC,OAvCnBlB,EAAKG,kBAAkBC,MAAMe,QAAO,SAACC,EAAQC,EAAMC,GA0B/D,OAzBIX,EAAW,IAAMW,GAASA,GAASX,EAAW,IAChDS,EAAOvD,KACL,wBAAI5B,UAAWgF,IAAcM,KAAMC,IAAKH,EAAKI,KAAKC,IAChD,4BACE,kBAAC,OAAD,CAAMC,GAAE,YAAcN,EAAKI,KAAKG,OAAOC,KAA/B,IAAwC5F,UAAWgF,IAAca,WAAYT,EAAKI,KAAKM,YAAYjB,QAE7G,yBAAK7E,UAAWgF,IAAce,MAC5B,2CACaX,EAAKI,KAAKM,YAAYE,KAAK,qCAAiB,IAAKZ,EAAKI,KAAKS,WADxE,cAKAb,EAAKI,KAAKM,YAAYI,UACpB,kBAAC,IAAD,CAAKlG,UAAWgF,IAAckB,SAAUC,MAAOf,EAAKI,KAAKM,YAAYI,SAASE,gBAAgBD,MAAO9F,IAAK+E,EAAKI,KAAKM,YAAYjB,QAGpI,kBAACpE,EAAA,EAAD,CAAK4F,GAAI,EAAGrG,UAAWgF,IAAcsB,eACnC,uBAAGtG,UAAWgF,IAAcuB,SAAUnB,EAAKI,KAAKe,UAElD,yBAAKxB,KAAK,UACR,kBAAC,OAAD,CAAMW,GAAE,YAAcN,EAAKI,KAAKG,OAAOC,KAA/B,KAAR,gBAKDT,IACN,KAeC,kBAAC,EAAD,CAAYnF,UAAWgF,IAAcwB,cArEzB,WAChB,IAAIC,EAAQ,GAEZA,EAAM7E,KACJ,kBAAC,EAAW0B,KAAZ,CACEoD,QAAS,kBAAMjC,EAASD,EAAO,EAAKA,EAAO,EAAIA,OAInD,IATqB,eASbmC,GACNF,EAAM7E,KACJ,kBAAC,EAAWiC,KAAZ,CACEpB,OAAQkE,IAAInC,EAAoBkC,QAAS,kBAAMjC,EAAQkC,IACvD/D,YAAY,IAEX+D,KANCA,EAAE,EAAGA,GAAGvC,EAASuC,IAAK,EAAtBA,GAcR,OALAF,EAAM7E,KACJ,kBAAC,EAAW4B,KAAZ,CACEkD,QAAS,kBAAMjC,EAASD,EAAOJ,EAAWI,EAAO,EAAMA,OAGpDiC,EA+CAG","file":"component---src-pages-stories-js-4af43f2672fef2dc60a0.js","sourcesContent":["import React from \"react\"\nimport Rainbow from \"./rainbow\"\nimport layoutStyles from \"./layout.module.css\"\n\nconst Cover = props => {\n    return (\n      <div className={`${layoutStyles.cover} full-viewport-width`}>\n        { props.bar && <Rainbow/> }\n        { props.src && <img src={props.src} alt=\"cover\"/>}\n        { props.text && <h1 className=\"d-none d-sm-block\">{props.text}</h1> }\n      </div>\n    )\n};\n\nCover.defaultProps = {\n  bar: true,\n  src: null,\n  text: null\n}\n\nexport default Cover;\n","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport classNames from 'classnames';\nimport React from 'react';\nimport { useBootstrapPrefix } from './ThemeProvider';\nvar DEVICE_SIZES = ['xl', 'lg', 'md', 'sm', 'xs'];\nvar Col = /*#__PURE__*/React.forwardRef( // Need to define the default \"as\" during prop destructuring to be compatible with styled-components github.com/react-bootstrap/react-bootstrap/issues/3595\nfunction (_ref, ref) {\n  var bsPrefix = _ref.bsPrefix,\n      className = _ref.className,\n      _ref$as = _ref.as,\n      Component = _ref$as === void 0 ? 'div' : _ref$as,\n      props = _objectWithoutPropertiesLoose(_ref, [\"bsPrefix\", \"className\", \"as\"]);\n\n  var prefix = useBootstrapPrefix(bsPrefix, 'col');\n  var spans = [];\n  var classes = [];\n  DEVICE_SIZES.forEach(function (brkPoint) {\n    var propValue = props[brkPoint];\n    delete props[brkPoint];\n    var span;\n    var offset;\n    var order;\n\n    if (typeof propValue === 'object' && propValue != null) {\n      var _propValue$span = propValue.span;\n      span = _propValue$span === void 0 ? true : _propValue$span;\n      offset = propValue.offset;\n      order = propValue.order;\n    } else {\n      span = propValue;\n    }\n\n    var infix = brkPoint !== 'xs' ? \"-\" + brkPoint : '';\n    if (span) spans.push(span === true ? \"\" + prefix + infix : \"\" + prefix + infix + \"-\" + span);\n    if (order != null) classes.push(\"order\" + infix + \"-\" + order);\n    if (offset != null) classes.push(\"offset\" + infix + \"-\" + offset);\n  });\n\n  if (!spans.length) {\n    spans.push(prefix); // plain 'col'\n  }\n\n  return /*#__PURE__*/React.createElement(Component, _extends({}, props, {\n    ref: ref,\n    className: classNames.apply(void 0, [className].concat(spans, classes))\n  }));\n});\nCol.displayName = 'Col';\nexport default Col;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"posts\":\"stories-module--posts--81Q0Q\",\"post\":\"stories-module--post--PsGE6\",\"meta\":\"stories-module--meta--FuwQ9\",\"featured\":\"stories-module--featured--2D2x5\",\"excerpt\":\"stories-module--excerpt--Si11Z\",\"excerptMargin\":\"stories-module--excerptMargin--2XMw0\",\"pageSelector\":\"stories-module--pageSelector--tJRDG\"};","import React from \"react\"\nimport layoutStyles from \"./layout.module.css\"\n\nconst Rainbow = () => {\n    return (\n      <div className={layoutStyles.rainbow}>\n        <div className={layoutStyles.first}></div>\n        <div className={layoutStyles.second}></div>\n      </div>\n    )\n};\n\nexport default Rainbow;\n","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\n/* eslint-disable react/no-multi-comp */\n\nimport classNames from 'classnames';\nimport React from 'react';\nimport SafeAnchor from './SafeAnchor';\nvar defaultProps = {\n  active: false,\n  disabled: false,\n  activeLabel: '(current)'\n};\nvar PageItem = /*#__PURE__*/React.forwardRef(function (_ref, ref) {\n  var active = _ref.active,\n      disabled = _ref.disabled,\n      className = _ref.className,\n      style = _ref.style,\n      activeLabel = _ref.activeLabel,\n      children = _ref.children,\n      props = _objectWithoutPropertiesLoose(_ref, [\"active\", \"disabled\", \"className\", \"style\", \"activeLabel\", \"children\"]);\n\n  var Component = active || disabled ? 'span' : SafeAnchor;\n  return /*#__PURE__*/React.createElement(\"li\", {\n    ref: ref,\n    style: style,\n    className: classNames(className, 'page-item', {\n      active: active,\n      disabled: disabled\n    })\n  }, /*#__PURE__*/React.createElement(Component, _extends({\n    className: \"page-link\",\n    disabled: disabled\n  }, props), children, active && activeLabel && /*#__PURE__*/React.createElement(\"span\", {\n    className: \"sr-only\"\n  }, activeLabel)));\n});\nPageItem.defaultProps = defaultProps;\nPageItem.displayName = 'PageItem';\nexport default PageItem;\n\nfunction createButton(name, defaultValue, label) {\n  if (label === void 0) {\n    label = name;\n  }\n\n  function Button(_ref2) {\n    var children = _ref2.children,\n        props = _objectWithoutPropertiesLoose(_ref2, [\"children\"]);\n\n    return /*#__PURE__*/React.createElement(PageItem, props, /*#__PURE__*/React.createElement(\"span\", {\n      \"aria-hidden\": \"true\"\n    }, children || defaultValue), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"sr-only\"\n    }, label));\n  }\n\n  Button.displayName = name;\n  return Button;\n}\n\nexport var First = createButton('First', '«');\nexport var Prev = createButton('Prev', '‹', 'Previous');\nexport var Ellipsis = createButton('Ellipsis', '…', 'More');\nexport var Next = createButton('Next', '›');\nexport var Last = createButton('Last', '»');","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport classNames from 'classnames';\nimport React from 'react';\nimport { useBootstrapPrefix } from './ThemeProvider';\nimport PageItem, { Ellipsis, First, Last, Next, Prev } from './PageItem';\n/**\n * @property {PageItem} Item\n * @property {PageItem} First\n * @property {PageItem} Prev\n * @property {PageItem} Ellipsis\n * @property {PageItem} Next\n * @property {PageItem} Last\n */\n\nvar Pagination = /*#__PURE__*/React.forwardRef(function (_ref, ref) {\n  var bsPrefix = _ref.bsPrefix,\n      className = _ref.className,\n      children = _ref.children,\n      size = _ref.size,\n      props = _objectWithoutPropertiesLoose(_ref, [\"bsPrefix\", \"className\", \"children\", \"size\"]);\n\n  var decoratedBsPrefix = useBootstrapPrefix(bsPrefix, 'pagination');\n  return /*#__PURE__*/React.createElement(\"ul\", _extends({\n    ref: ref\n  }, props, {\n    className: classNames(className, decoratedBsPrefix, size && decoratedBsPrefix + \"-\" + size)\n  }), children);\n});\nPagination.First = First;\nPagination.Prev = Prev;\nPagination.Ellipsis = Ellipsis;\nPagination.Item = PageItem;\nPagination.Next = Next;\nPagination.Last = Last;\nexport default Pagination;","import React, {useState, useEffect} from \"react\"\nimport { useStaticQuery, graphql, Link } from \"gatsby\"\nimport Img from \"gatsby-image\"\nimport Layout from \"../components/layout/layout\"\nimport Metadata from \"../components/metadata/metadata\"\nimport Cover from \"../components/layout/cover\"\nimport storiesStyles from \"../styles/stories.module.css\"\nimport Col from \"react-bootstrap/Col\"\nimport Pagination from \"react-bootstrap/Pagination\"\n\n\nconst Stories = () => {\n  const data = useStaticQuery(\n    graphql`\n      query {\n        allMarkdownRemark(sort: { fields: frontmatter___date, order: DESC }) {\n          edges {\n            node {\n              frontmatter {\n                title\n                date(formatString: \"DD MMMM, YYYY\")\n                featured {\n                  childImageSharp {\n                    fluid(maxWidth: 750) {\n                      ...GatsbyImageSharpFluid\n                    }\n                  }\n                }\n              }\n              timeToRead\n              excerpt\n              id\n              fields {\n                slug\n              }\n            }\n          }\n        }\n      }\n    `\n  );\n  \n  const storiesN = data.allMarkdownRemark.edges.length;\n  const storiesPerPage = 4;\n  const pageMax = Math.ceil(storiesN / storiesPerPage);\n  const [page, setPage] = useState(1);\n  const [indexLimit, setIndexLimit] = useState([0,3]);\n  useEffect(() => {\n    setIndexLimit([(page-1) *storiesPerPage, ((page) *storiesPerPage)-1])\n  }, [page]);\n\n  const PageItems = () =>{\n    let Items = [];\n\n    Items.push(\n      <Pagination.Prev \n        onClick={() => setPage((page > 1)? (page - 1):(page))}\n      />\n    );\n\n    for(let i=1; i<=pageMax; i++){\n      Items.push(\n        <Pagination.Item \n          active={i===page? true : false} onClick={() => setPage(i)}\n          activeLabel=\"\"\n        >\n          {i}\n        </Pagination.Item>);\n    };\n    Items.push(\n      <Pagination.Next \n        onClick={() => setPage((page < pageMax)? (page + 1) : (page))}\n      />\n    );\n    return Items\n  };\n\n  const VisibleStories = () => {\n    const Items = data.allMarkdownRemark.edges.reduce((result, edge, index) => {\n      if (indexLimit[0] <= index && index <= indexLimit[1]){\n        result.push(\n          <li className={storiesStyles.post} key={edge.node.id}>\n            <h2>\n              <Link to={`/stories/${edge.node.fields.slug}/`} className={storiesStyles.titleLink}>{edge.node.frontmatter.title}</Link>\n            </h2>\n            <div className={storiesStyles.meta}>\n              <span>\n                Posted on {edge.node.frontmatter.date}<span> | </span>{\" \"}{edge.node.timeToRead} min read\n              </span>\n            </div>\n            {\n              edge.node.frontmatter.featured && (\n                <Img className={storiesStyles.featured} fluid={edge.node.frontmatter.featured.childImageSharp.fluid} alt={edge.node.frontmatter.title}/>\n              )\n            }\n            <Col lg={9} className={storiesStyles.excerptMargin}>\n              <p className={storiesStyles.excerpt}>{edge.node.excerpt}</p>\n            </Col>\n            <div role=\"button\">\n              <Link to={`/stories/${edge.node.fields.slug}/`}>Read More</Link>\n            </div>\n          </li>\n        )\n      }\n      return result\n    }, []);\n    return Items\n  };\n\n  return (\n    <Layout>\n      <Metadata \n        title=\"Stories\"\n        description=\"Hope Labs publishes original interviews, inspirational stories and insightful reports about activities in the social sector.\"\n      />\n      <Cover/>\n      <div role=\"main\">\n        <ul className={storiesStyles.posts}>\n          {VisibleStories()}\n        </ul>\n        <Pagination className={storiesStyles.pageSelector}>\n          {PageItems()}\n        </Pagination>\n      </div>\n    </Layout>\n  )\n}\n\nexport default Stories\n"],"sourceRoot":""}