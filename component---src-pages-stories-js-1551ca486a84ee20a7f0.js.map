{"version":3,"sources":["webpack:///./node_modules/react-bootstrap/esm/Col.js","webpack:///./src/styles/stories.module.css","webpack:///./node_modules/react-bootstrap/esm/PageItem.js","webpack:///./node_modules/react-bootstrap/esm/Pagination.js","webpack:///./src/pages/stories.js"],"names":["DEVICE_SIZES","Col","forwardRef","_ref","ref","bsPrefix","className","_ref$as","as","Component","props","prefix","spans","classes","forEach","brkPoint","span","offset","order","propValue","_propValue$span","infix","push","length","createElement","apply","concat","displayName","module","exports","PageItem","active","disabled","style","activeLabel","children","SafeAnchor","defaultProps","createButton","name","defaultValue","label","Button","_ref2","First","Prev","Ellipsis","Next","Last","Pagination","size","decoratedBsPrefix","Item","Stories","data","useStaticQuery","storiesN","allMarkdownRemark","edges","pageMax","Math","ceil","useState","page","setPage","indexLimit","setIndexLimit","useEffect","title","description","storiesStyles","storiesMain","posts","reduce","result","edge","index","post","key","node","id","to","fields","slug","titleLink","frontmatter","meta","date","timeToRead","featured","fluid","childImageSharp","alt","lg","excerptMargin","excerpt","role","storyButton","pageSelector","Items","onClick","i","PageItems"],"mappings":"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","file":"component---src-pages-stories-js-1551ca486a84ee20a7f0.js","sourcesContent":["import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport classNames from 'classnames';\nimport React from 'react';\nimport { useBootstrapPrefix } from './ThemeProvider';\nvar DEVICE_SIZES = ['xl', 'lg', 'md', 'sm', 'xs'];\nvar Col = /*#__PURE__*/React.forwardRef( // Need to define the default \"as\" during prop destructuring to be compatible with styled-components github.com/react-bootstrap/react-bootstrap/issues/3595\nfunction (_ref, ref) {\n  var bsPrefix = _ref.bsPrefix,\n      className = _ref.className,\n      _ref$as = _ref.as,\n      Component = _ref$as === void 0 ? 'div' : _ref$as,\n      props = _objectWithoutPropertiesLoose(_ref, [\"bsPrefix\", \"className\", \"as\"]);\n\n  var prefix = useBootstrapPrefix(bsPrefix, 'col');\n  var spans = [];\n  var classes = [];\n  DEVICE_SIZES.forEach(function (brkPoint) {\n    var propValue = props[brkPoint];\n    delete props[brkPoint];\n    var span;\n    var offset;\n    var order;\n\n    if (typeof propValue === 'object' && propValue != null) {\n      var _propValue$span = propValue.span;\n      span = _propValue$span === void 0 ? true : _propValue$span;\n      offset = propValue.offset;\n      order = propValue.order;\n    } else {\n      span = propValue;\n    }\n\n    var infix = brkPoint !== 'xs' ? \"-\" + brkPoint : '';\n    if (span) spans.push(span === true ? \"\" + prefix + infix : \"\" + prefix + infix + \"-\" + span);\n    if (order != null) classes.push(\"order\" + infix + \"-\" + order);\n    if (offset != null) classes.push(\"offset\" + infix + \"-\" + offset);\n  });\n\n  if (!spans.length) {\n    spans.push(prefix); // plain 'col'\n  }\n\n  return /*#__PURE__*/React.createElement(Component, _extends({}, props, {\n    ref: ref,\n    className: classNames.apply(void 0, [className].concat(spans, classes))\n  }));\n});\nCol.displayName = 'Col';\nexport default Col;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"storiesMain\":\"stories-module--storiesMain--3poeL\",\"posts\":\"stories-module--posts--81Q0Q\",\"post\":\"stories-module--post--PsGE6\",\"meta\":\"stories-module--meta--FuwQ9\",\"featured\":\"stories-module--featured--2D2x5\",\"excerpt\":\"stories-module--excerpt--Si11Z\",\"excerptMargin\":\"stories-module--excerptMargin--2XMw0\",\"storyButton\":\"stories-module--storyButton--tfmRT\",\"pageSelector\":\"stories-module--pageSelector--tJRDG\"};","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\n/* eslint-disable react/no-multi-comp */\n\nimport classNames from 'classnames';\nimport React from 'react';\nimport SafeAnchor from './SafeAnchor';\nvar defaultProps = {\n  active: false,\n  disabled: false,\n  activeLabel: '(current)'\n};\nvar PageItem = /*#__PURE__*/React.forwardRef(function (_ref, ref) {\n  var active = _ref.active,\n      disabled = _ref.disabled,\n      className = _ref.className,\n      style = _ref.style,\n      activeLabel = _ref.activeLabel,\n      children = _ref.children,\n      props = _objectWithoutPropertiesLoose(_ref, [\"active\", \"disabled\", \"className\", \"style\", \"activeLabel\", \"children\"]);\n\n  var Component = active || disabled ? 'span' : SafeAnchor;\n  return /*#__PURE__*/React.createElement(\"li\", {\n    ref: ref,\n    style: style,\n    className: classNames(className, 'page-item', {\n      active: active,\n      disabled: disabled\n    })\n  }, /*#__PURE__*/React.createElement(Component, _extends({\n    className: \"page-link\",\n    disabled: disabled\n  }, props), children, active && activeLabel && /*#__PURE__*/React.createElement(\"span\", {\n    className: \"sr-only\"\n  }, activeLabel)));\n});\nPageItem.defaultProps = defaultProps;\nPageItem.displayName = 'PageItem';\nexport default PageItem;\n\nfunction createButton(name, defaultValue, label) {\n  if (label === void 0) {\n    label = name;\n  }\n\n  function Button(_ref2) {\n    var children = _ref2.children,\n        props = _objectWithoutPropertiesLoose(_ref2, [\"children\"]);\n\n    return /*#__PURE__*/React.createElement(PageItem, props, /*#__PURE__*/React.createElement(\"span\", {\n      \"aria-hidden\": \"true\"\n    }, children || defaultValue), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"sr-only\"\n    }, label));\n  }\n\n  Button.displayName = name;\n  return Button;\n}\n\nexport var First = createButton('First', '«');\nexport var Prev = createButton('Prev', '‹', 'Previous');\nexport var Ellipsis = createButton('Ellipsis', '…', 'More');\nexport var Next = createButton('Next', '›');\nexport var Last = createButton('Last', '»');","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport classNames from 'classnames';\nimport React from 'react';\nimport { useBootstrapPrefix } from './ThemeProvider';\nimport PageItem, { Ellipsis, First, Last, Next, Prev } from './PageItem';\n/**\n * @property {PageItem} Item\n * @property {PageItem} First\n * @property {PageItem} Prev\n * @property {PageItem} Ellipsis\n * @property {PageItem} Next\n * @property {PageItem} Last\n */\n\nvar Pagination = /*#__PURE__*/React.forwardRef(function (_ref, ref) {\n  var bsPrefix = _ref.bsPrefix,\n      className = _ref.className,\n      children = _ref.children,\n      size = _ref.size,\n      props = _objectWithoutPropertiesLoose(_ref, [\"bsPrefix\", \"className\", \"children\", \"size\"]);\n\n  var decoratedBsPrefix = useBootstrapPrefix(bsPrefix, 'pagination');\n  return /*#__PURE__*/React.createElement(\"ul\", _extends({\n    ref: ref\n  }, props, {\n    className: classNames(className, decoratedBsPrefix, size && decoratedBsPrefix + \"-\" + size)\n  }), children);\n});\nPagination.First = First;\nPagination.Prev = Prev;\nPagination.Ellipsis = Ellipsis;\nPagination.Item = PageItem;\nPagination.Next = Next;\nPagination.Last = Last;\nexport default Pagination;","import React, {useState, useEffect} from \"react\"\nimport { useStaticQuery, graphql, Link } from \"gatsby\"\nimport Img from \"gatsby-image\"\nimport Layout from \"../components/layout/layout\"\nimport Metadata from \"../components/metadata/metadata\"\nimport storiesStyles from \"../styles/stories.module.css\"\nimport Col from \"react-bootstrap/Col\"\nimport Pagination from \"react-bootstrap/Pagination\"\n\n\nconst Stories = () => {\n  const data = useStaticQuery(\n    graphql`\n      query {\n        allMarkdownRemark(sort: { fields: frontmatter___date, order: DESC }) {\n          edges {\n            node {\n              frontmatter {\n                title\n                date(formatString: \"DD MMMM, YYYY\")\n                featured {\n                  childImageSharp {\n                    fluid(maxWidth: 750) {\n                      ...GatsbyImageSharpFluid\n                    }\n                  }\n                }\n              }\n              timeToRead\n              excerpt\n              id\n              fields {\n                slug\n              }\n            }\n          }\n        }\n      }\n    `\n  );\n  \n  const storiesN = data.allMarkdownRemark.edges.length;\n  const storiesPerPage = 4;\n  const pageMax = Math.ceil(storiesN / storiesPerPage);\n  const [page, setPage] = useState(1);\n  const [indexLimit, setIndexLimit] = useState([0,3]);\n  useEffect(() => {\n    setIndexLimit([(page-1) *storiesPerPage, ((page) *storiesPerPage)-1])\n  }, [page]);\n\n  const PageItems = () =>{\n    let Items = [];\n\n    Items.push(\n      <Pagination.Prev \n        onClick={() => setPage((page > 1)? (page - 1):(page))}\n      />\n    );\n\n    for(let i=1; i<=pageMax; i++){\n      Items.push(\n        <Pagination.Item \n          active={i===page? true : false} onClick={() => setPage(i)}\n          activeLabel=\"\"\n        >\n          {i}\n        </Pagination.Item>);\n    };\n    Items.push(\n      <Pagination.Next \n        onClick={() => setPage((page < pageMax)? (page + 1) : (page))}\n      />\n    );\n    return Items\n  };\n\n  const VisibleStories = () => {\n    const Items = data.allMarkdownRemark.edges.reduce((result, edge, index) => {\n      if (indexLimit[0] <= index && index <= indexLimit[1]){\n        result.push(\n          <li className={storiesStyles.post} key={edge.node.id}>\n            <h2>\n              <Link to={`/stories/${edge.node.fields.slug}/`} className={storiesStyles.titleLink}>{edge.node.frontmatter.title}</Link>\n            </h2>\n            <div className={storiesStyles.meta}>\n              <span>\n                Posted on {edge.node.frontmatter.date}<span> | </span>{\" \"}{edge.node.timeToRead} min read\n              </span>\n            </div>\n            {\n              edge.node.frontmatter.featured && (\n                <Img className={storiesStyles.featured} fluid={edge.node.frontmatter.featured.childImageSharp.fluid} alt={edge.node.frontmatter.title}/>\n              )\n            }\n            <Col lg={9} className={storiesStyles.excerptMargin}>\n              <p className={storiesStyles.excerpt}>{edge.node.excerpt}</p>\n            </Col>\n            <div role=\"button\" className={storiesStyles.storyButton}>\n              <Link to={`/stories/${edge.node.fields.slug}/`}>Read More</Link>\n            </div>\n          </li>\n        )\n      }\n      return result\n    }, []);\n    return Items\n  };\n\n  return (\n    <Layout>\n      <Metadata \n        title=\"Stories\"\n        description=\"Hope Labs publishes original interviews, inspirational stories and insightful reports about activities in the social sector.\"\n      />\n      <div className={storiesStyles.storiesMain}>\n        <ul className={storiesStyles.posts}>\n          {VisibleStories()}\n        </ul>\n        <Pagination className={storiesStyles.pageSelector}>\n          {PageItems()}\n        </Pagination>\n      </div>\n    </Layout>\n  )\n}\n\nexport default Stories\n"],"sourceRoot":""}