{"version":3,"sources":["webpack:///./src/styles/stories.module.css","webpack:///./node_modules/react-bootstrap/esm/PageItem.js","webpack:///./node_modules/react-bootstrap/esm/Pagination.js","webpack:///./src/pages/stories.js"],"names":["module","exports","PageItem","forwardRef","_ref","ref","active","disabled","className","style","activeLabel","children","props","Component","SafeAnchor","createElement","defaultProps","displayName","createButton","name","defaultValue","label","Button","_ref2","First","Prev","Ellipsis","Next","Last","Pagination","bsPrefix","size","decoratedBsPrefix","Item","Stories","data","useStaticQuery","storiesN","allMarkdownRemark","edges","length","pageMax","Math","ceil","useState","page","setPage","indexLimit","setIndexLimit","useEffect","title","description","role","storiesStyles","posts","reduce","result","edge","index","push","post","key","node","id","to","fields","slug","titleLink","frontmatter","meta","date","timeToRead","featured","fluid","childImageSharp","alt","Col","lg","excerptMargin","excerpt","abstract","Items","onClick","i","PageItems"],"mappings":"+EACAA,EAAOC,QAAU,CAAC,MAAQ,+BAA+B,KAAO,8BAA8B,KAAO,8BAA8B,SAAW,kCAAkC,QAAU,iCAAiC,cAAgB,yC,iOCWvOC,EAAwB,IAAMC,YAAW,SAAUC,EAAMC,GAC3D,IAAIC,EAASF,EAAKE,OACdC,EAAWH,EAAKG,SAChBC,EAAYJ,EAAKI,UACjBC,EAAQL,EAAKK,MACbC,EAAcN,EAAKM,YACnBC,EAAWP,EAAKO,SAChBC,EAAQ,YAA8BR,EAAM,CAAC,SAAU,WAAY,YAAa,QAAS,cAAe,aAExGS,EAAYP,GAAUC,EAAW,OAASO,EAAA,EAC9C,OAAoB,IAAMC,cAAc,KAAM,CAC5CV,IAAKA,EACLI,MAAOA,EACPD,UAAW,IAAWA,EAAW,YAAa,CAC5CF,OAAQA,EACRC,SAAUA,KAEE,IAAMQ,cAAcF,EAAW,YAAS,CACtDL,UAAW,YACXD,SAAUA,GACTK,GAAQD,EAAUL,GAAUI,GAA4B,IAAMK,cAAc,OAAQ,CACrFP,UAAW,WACVE,QAELR,EAASc,aA7BU,CACjBV,QAAQ,EACRC,UAAU,EACVG,YAAa,aA2BfR,EAASe,YAAc,WACR,QAEf,SAASC,EAAaC,EAAMC,EAAcC,GAKxC,SAASC,EAAOC,GACd,IAAIZ,EAAWY,EAAMZ,SACjBC,EAAQ,YAA8BW,EAAO,CAAC,aAElD,OAAoB,IAAMR,cAAcb,EAAUU,EAAoB,IAAMG,cAAc,OAAQ,CAChG,cAAe,QACdJ,GAAYS,GAA4B,IAAML,cAAc,OAAQ,CACrEP,UAAW,WACVa,IAIL,YAhBc,IAAVA,IACFA,EAAQF,GAcVG,EAAOL,YAAcE,EACdG,EAGF,IAAIE,EAAQN,EAAa,QAAS,KAC9BO,EAAOP,EAAa,OAAQ,IAAK,YACjCQ,EAAWR,EAAa,WAAY,IAAK,QACzCS,EAAOT,EAAa,OAAQ,KAC5BU,EAAOV,EAAa,OAAQ,KCjDnCW,EAA0B,IAAM1B,YAAW,SAAUC,EAAMC,GAC7D,IAAIyB,EAAW1B,EAAK0B,SAChBtB,EAAYJ,EAAKI,UACjBG,EAAWP,EAAKO,SAChBoB,EAAO3B,EAAK2B,KACZnB,EAAQ,YAA8BR,EAAM,CAAC,WAAY,YAAa,WAAY,SAElF4B,EAAoB,YAAmBF,EAAU,cACrD,OAAoB,IAAMf,cAAc,KAAM,YAAS,CACrDV,IAAKA,GACJO,EAAO,CACRJ,UAAW,IAAWA,EAAWwB,EAAmBD,GAAQC,EAAoB,IAAMD,KACpFpB,MAENkB,EAAWL,MAAQA,EACnBK,EAAWJ,KAAOA,EAClBI,EAAWH,SAAWA,EACtBG,EAAWI,KAAO,EAClBJ,EAAWF,KAAOA,EAClBE,EAAWD,KAAOA,EACH,QC0GAM,UApIC,WACd,IAAMC,EAAOC,yBAAe,cAoCtBC,EAAWF,EAAKG,kBAAkBC,MAAMC,OAExCC,EAAUC,KAAKC,KAAKN,EADH,GAtCH,EAwCIO,mBAAS,GAA1BC,EAxCa,KAwCPC,EAxCO,OAyCgBF,mBAAS,CAAC,EAAG,IAA1CG,EAzCa,KAyCDC,EAzCC,KA0CpBC,qBAAU,WACRD,EAAc,CALO,GAKLH,EAAO,GALF,EAKuBA,EAAwB,MACnE,CAACA,IAwEJ,OACE,kBAAC,IAAD,KACE,kBAAC,IAAD,CACEK,MAAM,UACNC,YAAY,iIAEd,6BAAS3C,UAAW,cAAe4C,KAAM,QACvC,wBAAI5C,UAAW6C,IAAcC,OAlDnBnB,EAAKG,kBAAkBC,MAAMgB,QAAO,SAACC,EAAQC,EAAMC,GAsC/D,OArCIX,EAAW,IAAMW,GAASA,GAASX,EAAW,IAChDS,EAAOG,KACL,wBAAInD,UAAW6C,IAAcO,KAAMC,IAAKJ,EAAKK,KAAKC,IAChD,4BACE,kBAAC,OAAD,CACEC,GAAE,YAAcP,EAAKK,KAAKG,OAAOC,KAA/B,IACF1D,UAAW6C,IAAcc,WAExBV,EAAKK,KAAKM,YAAYlB,QAG3B,yBAAK1C,UAAW6C,IAAcgB,MAC5B,2CACaZ,EAAKK,KAAKM,YAAYE,KACjC,qCAFF,IAEoBb,EAAKK,KAAKS,WAF9B,cAKF,6BACGd,EAAKK,KAAKM,YAAYI,UACrB,kBAAC,IAAD,CACEhE,UAAW6C,IAAcmB,SACzBC,MAAOhB,EAAKK,KAAKM,YAAYI,SAASE,gBAAgBD,MACtDE,IAAKlB,EAAKK,KAAKM,YAAYlB,SAIjC,kBAAC0B,EAAA,EAAD,CAAKC,GAAI,EAAGrE,UAAW6C,IAAcyB,eACnC,uBAAGtE,UAAW6C,IAAc0B,SACzBtB,EAAKK,KAAKM,YAAYY,WAG3B,yBAAK5B,KAAK,SAAS5C,UAAW,cAC5B,kBAAC,OAAD,CAAMwD,GAAE,YAAcP,EAAKK,KAAKG,OAAOC,KAA/B,KAAR,gBAKDV,IACN,KAYEnB,GAtFgB,EAsFa,KAC5B,kBAAC,EAAD,CAAY7B,UAAW,gBA/Eb,WAChB,IAAIyE,EAAQ,GAEZA,EAAMtB,KACJ,kBAAC,EAAWlC,KAAZ,CAAiByD,QAAS,kBAAMpC,EAAQD,EAAO,EAAIA,EAAO,EAAIA,OAGhE,IAPsB,eAObsC,GACPF,EAAMtB,KACJ,kBAAC,EAAW1B,KAAZ,CACE3B,OAAQ6E,IAAMtC,EACdqC,QAAS,kBAAMpC,EAAQqC,IACvBzE,YAAY,IAEXyE,KAPEA,EAAI,EAAGA,GAAK1C,EAAS0C,IAAM,EAA3BA,GAgBT,OALAF,EAAMtB,KACJ,kBAAC,EAAWhC,KAAZ,CACEuD,QAAS,kBAAMpC,EAAQD,EAAOJ,EAAUI,EAAO,EAAIA,OAGhDoC,EAwDuCG","file":"component---src-pages-stories-js-bbd1bbafd676202eee8e.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"posts\":\"stories-module--posts--81Q0Q\",\"post\":\"stories-module--post--PsGE6\",\"meta\":\"stories-module--meta--FuwQ9\",\"featured\":\"stories-module--featured--2D2x5\",\"excerpt\":\"stories-module--excerpt--Si11Z\",\"excerptMargin\":\"stories-module--excerptMargin--2XMw0\"};","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\n/* eslint-disable react/no-multi-comp */\n\nimport classNames from 'classnames';\nimport React from 'react';\nimport SafeAnchor from './SafeAnchor';\nvar defaultProps = {\n  active: false,\n  disabled: false,\n  activeLabel: '(current)'\n};\nvar PageItem = /*#__PURE__*/React.forwardRef(function (_ref, ref) {\n  var active = _ref.active,\n      disabled = _ref.disabled,\n      className = _ref.className,\n      style = _ref.style,\n      activeLabel = _ref.activeLabel,\n      children = _ref.children,\n      props = _objectWithoutPropertiesLoose(_ref, [\"active\", \"disabled\", \"className\", \"style\", \"activeLabel\", \"children\"]);\n\n  var Component = active || disabled ? 'span' : SafeAnchor;\n  return /*#__PURE__*/React.createElement(\"li\", {\n    ref: ref,\n    style: style,\n    className: classNames(className, 'page-item', {\n      active: active,\n      disabled: disabled\n    })\n  }, /*#__PURE__*/React.createElement(Component, _extends({\n    className: \"page-link\",\n    disabled: disabled\n  }, props), children, active && activeLabel && /*#__PURE__*/React.createElement(\"span\", {\n    className: \"sr-only\"\n  }, activeLabel)));\n});\nPageItem.defaultProps = defaultProps;\nPageItem.displayName = 'PageItem';\nexport default PageItem;\n\nfunction createButton(name, defaultValue, label) {\n  if (label === void 0) {\n    label = name;\n  }\n\n  function Button(_ref2) {\n    var children = _ref2.children,\n        props = _objectWithoutPropertiesLoose(_ref2, [\"children\"]);\n\n    return /*#__PURE__*/React.createElement(PageItem, props, /*#__PURE__*/React.createElement(\"span\", {\n      \"aria-hidden\": \"true\"\n    }, children || defaultValue), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"sr-only\"\n    }, label));\n  }\n\n  Button.displayName = name;\n  return Button;\n}\n\nexport var First = createButton('First', '«');\nexport var Prev = createButton('Prev', '‹', 'Previous');\nexport var Ellipsis = createButton('Ellipsis', '…', 'More');\nexport var Next = createButton('Next', '›');\nexport var Last = createButton('Last', '»');","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport classNames from 'classnames';\nimport React from 'react';\nimport { useBootstrapPrefix } from './ThemeProvider';\nimport PageItem, { Ellipsis, First, Last, Next, Prev } from './PageItem';\n/**\n * @property {PageItem} Item\n * @property {PageItem} First\n * @property {PageItem} Prev\n * @property {PageItem} Ellipsis\n * @property {PageItem} Next\n * @property {PageItem} Last\n */\n\nvar Pagination = /*#__PURE__*/React.forwardRef(function (_ref, ref) {\n  var bsPrefix = _ref.bsPrefix,\n      className = _ref.className,\n      children = _ref.children,\n      size = _ref.size,\n      props = _objectWithoutPropertiesLoose(_ref, [\"bsPrefix\", \"className\", \"children\", \"size\"]);\n\n  var decoratedBsPrefix = useBootstrapPrefix(bsPrefix, 'pagination');\n  return /*#__PURE__*/React.createElement(\"ul\", _extends({\n    ref: ref\n  }, props, {\n    className: classNames(className, decoratedBsPrefix, size && decoratedBsPrefix + \"-\" + size)\n  }), children);\n});\nPagination.First = First;\nPagination.Prev = Prev;\nPagination.Ellipsis = Ellipsis;\nPagination.Item = PageItem;\nPagination.Next = Next;\nPagination.Last = Last;\nexport default Pagination;","import React, { useState, useEffect } from \"react\";\nimport { useStaticQuery, graphql, Link } from \"gatsby\";\nimport Img from \"gatsby-image\";\nimport Layout from \"../components/layout/layout\";\nimport Metadata from \"../components/metadata/metadata\";\nimport storiesStyles from \"../styles/stories.module.css\";\nimport Col from \"react-bootstrap/Col\";\nimport Pagination from \"react-bootstrap/Pagination\";\n\nconst Stories = () => {\n  const data = useStaticQuery(\n    graphql`\n      query {\n        allMarkdownRemark(\n          filter: {\n            frontmatter: { type: { eq: \"post\" }, publish: { eq: \"true\" } }\n          }\n          sort: { fields: frontmatter___date, order: DESC }\n        ) {\n          edges {\n            node {\n              frontmatter {\n                title\n                date(formatString: \"DD MMMM, YYYY\")\n                abstract\n                featured {\n                  childImageSharp {\n                    fluid(maxWidth: 1500) {\n                      ...GatsbyImageSharpFluid\n                    }\n                  }\n                }\n              }\n              timeToRead\n              excerpt\n              id\n              fields {\n                slug\n              }\n            }\n          }\n        }\n      }\n    `\n  );\n\n  const storiesN = data.allMarkdownRemark.edges.length;\n  const storiesPerPage = 5;\n  const pageMax = Math.ceil(storiesN / storiesPerPage);\n  const [page, setPage] = useState(1);\n  const [indexLimit, setIndexLimit] = useState([0, 3]);\n  useEffect(() => {\n    setIndexLimit([(page - 1) * storiesPerPage, page * storiesPerPage - 1]);\n  }, [page]);\n\n  const PageItems = () => {\n    let Items = [];\n\n    Items.push(\n      <Pagination.Prev onClick={() => setPage(page > 1 ? page - 1 : page)} />\n    );\n\n    for (let i = 1; i <= pageMax; i++) {\n      Items.push(\n        <Pagination.Item\n          active={i === page ? true : false}\n          onClick={() => setPage(i)}\n          activeLabel=\"\"\n        >\n          {i}\n        </Pagination.Item>\n      );\n    }\n    Items.push(\n      <Pagination.Next\n        onClick={() => setPage(page < pageMax ? page + 1 : page)}\n      />\n    );\n    return Items;\n  };\n\n  const VisibleStories = () => {\n    const Items = data.allMarkdownRemark.edges.reduce((result, edge, index) => {\n      if (indexLimit[0] <= index && index <= indexLimit[1]) {\n        result.push(\n          <li className={storiesStyles.post} key={edge.node.id}>\n            <h2>\n              <Link\n                to={`/stories/${edge.node.fields.slug}/`}\n                className={storiesStyles.titleLink}\n              >\n                {edge.node.frontmatter.title}\n              </Link>\n            </h2>\n            <div className={storiesStyles.meta}>\n              <span>\n                Posted on {edge.node.frontmatter.date}\n                <span> | </span> {edge.node.timeToRead} min read\n              </span>\n            </div>\n            <div>\n              {edge.node.frontmatter.featured && (\n                <Img\n                  className={storiesStyles.featured}\n                  fluid={edge.node.frontmatter.featured.childImageSharp.fluid}\n                  alt={edge.node.frontmatter.title}\n                />\n              )}\n            </div>\n            <Col lg={9} className={storiesStyles.excerptMargin}>\n              <p className={storiesStyles.excerpt}>\n                {edge.node.frontmatter.abstract}\n              </p>\n            </Col>\n            <div role=\"button\" className={\"moreButton\"}>\n              <Link to={`/stories/${edge.node.fields.slug}/`}>Read More</Link>\n            </div>\n          </li>\n        );\n      }\n      return result;\n    }, []);\n    return Items;\n  };\n\n  return (\n    <Layout>\n      <Metadata\n        title=\"Stories\"\n        description=\"Hope Labs publishes original interviews, inspirational stories and insightful reports about activities in the social sector.\"\n      />\n      <section className={\"sectionMain\"} role={\"main\"}>\n        <ul className={storiesStyles.posts}>{VisibleStories()}</ul>\n        {storiesN <= storiesPerPage ? null : (\n          <Pagination className={\"pageSelector\"}>{PageItems()}</Pagination>\n        )}\n      </section>\n    </Layout>\n  );\n};\n\nexport default Stories;\n"],"sourceRoot":""}